{"version":3,"sources":["services/people.js","styles.js","App.js","index.js"],"names":["baseUrl","people","axios","get","then","response","data","newObject","post","id","delete","concat","person","put","styles","color","backround","fontSize","borderStyle","borderRadius","padding","marginBottom","Rows","_ref","persons","filterBy","remove","react_default","a","createElement","filter","p","name","toLowerCase","includes","map","key","number","onClick","Add","_ref2","nameChange","numberChange","submit","onSubmit","value","onChange","type","Filter","_ref3","change","event","preventDefault","Prompt","_ref4","message","style","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","_useState11","_useState12","setStyle","useEffect","console","log","personService","initialPersons","setPrompt","setTimeout","App_Prompt","App_Filter","target","App_Add","sameName","window","confirm","res","catch","error","newPerson","App_Rows","ReactDOM","render","src_App","document","getElementById"],"mappings":"gMACMA,EAAU,eAeDC,EAbA,kBAAMC,IAAMC,IAAIH,GAASI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAanDL,EAXA,SAAAM,GAAS,OACtBL,IAAMM,KAAKR,EAASO,GAAWH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAU5CL,EARA,SAAAQ,GAAE,OAAIP,IAAMQ,OAAN,GAAAC,OAAgBX,EAAhB,KAAAW,OAA2BF,KAQjCR,EANA,SAAAW,GACb,OAAOV,IACJW,IADI,GAAAF,OACGX,EADH,KAAAW,OACcC,EAAOH,IAAMG,GAC/BR,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCOhBQ,EApBC,CACdC,MAAO,QACPC,UAAW,WACXC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAaDP,EAXF,CACXC,MAAO,MACPC,UAAW,WACXC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAIDP,EAFD,GCiGRQ,EAAO,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAASC,EAAZF,EAAYE,SAAUC,EAAtBH,EAAsBG,OAAtB,OACXC,EAAAC,EAAAC,cAAA,UACGL,EACEM,OAAO,SAAAC,GAAC,OAAIA,EAAEC,KAAKC,cAAcC,SAAST,KAC1CU,IAAI,SAAAJ,GAAC,OACJJ,EAAAC,EAAAC,cAAA,MAAIO,IAAKL,EAAEC,MACRD,EAAEC,KADL,MACcD,EAAEM,OACdV,EAAAC,EAAAC,cAAA,UAAQS,QAAS,kBAAMZ,EAAOK,EAAEtB,GAAIsB,EAAEC,QAAtC,eAMJO,EAAM,SAAAC,GAAA,IAAGR,EAAHQ,EAAGR,KAAMS,EAATD,EAASC,WAAYJ,EAArBG,EAAqBH,OAAQK,EAA7BF,EAA6BE,aAAcC,EAA3CH,EAA2CG,OAA3C,OACVhB,EAAAC,EAAAC,cAAA,QAAMe,SAAUD,GACdhB,EAAAC,EAAAC,cAAA,mBAEEF,EAAAC,EAAAC,cAAA,SAAOgB,MAAOb,EAAMc,SAAUL,KAEhCd,EAAAC,EAAAC,cAAA,qBAEEF,EAAAC,EAAAC,cAAA,SAAOgB,MAAOR,EAAQS,SAAUJ,KAElCf,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQkB,KAAK,UAAb,kBAKAC,EAAS,SAAAC,GAAA,IAAGxB,EAAHwB,EAAGxB,SAAUyB,EAAbD,EAAaC,OAAb,OACbvB,EAAAC,EAAAC,cAAA,QAAMe,SAAU,SAAAO,GAAK,OAAIA,EAAMC,mBAC7BzB,EAAAC,EAAAC,cAAA,0BAEEF,EAAAC,EAAAC,cAAA,SAAOgB,MAAOpB,EAAUqB,SAAUI,OAIlCG,EAAS,SAAAC,GAAwB,IAArBC,EAAqBD,EAArBC,QAASC,EAAYF,EAAZE,MACzB,OAAO7B,EAAAC,EAAAC,cAAA,OAAK2B,MAAOA,GAAQD,IAGdE,EAxJH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTlC,EADSoC,EAAA,GACAG,EADAH,EAAA,GAAAI,EAEcL,mBAAS,IAFvBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAETE,EAFSD,EAAA,GAEAE,EAFAF,EAAA,GAAAG,EAGkBT,mBAAS,IAH3BU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAGTE,EAHSD,EAAA,GAGEE,EAHFF,EAAA,GAAAG,EAIcb,mBAAS,IAJvBc,EAAAZ,OAAAC,EAAA,EAAAD,CAAAW,EAAA,GAIT/C,EAJSgD,EAAA,GAICC,EAJDD,EAAA,GAAAE,EAKchB,mBAAS,MALvBiB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAKTpB,EALSqB,EAAA,GAKAC,EALAD,EAAA,GAAAE,EAMUnB,mBAAS7C,GANnBiE,EAAAlB,OAAAC,EAAA,EAAAD,CAAAiB,EAAA,GAMTtB,EANSuB,EAAA,GAMFC,EANED,EAAA,GAQhBE,oBAAU,WACRC,QAAQC,IAAI,UACZC,IAAuBhF,KAAK,SAAAiF,GAAc,OAAItB,EAAWsB,KACzDH,QAAQC,IAAI,sBACX,IAEH,IAaMG,EAAY,SAAC/B,EAASC,GAC1BqB,EAAWtB,GACXyB,EAASxB,GACT+B,WAAW,WACTV,EAAW,MACXG,EAASlE,IACR,MA0DL,OACEa,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAC2D,EAAD,CAAQjC,QAASA,EAASC,MAAOA,IACjC7B,EAAAC,EAAAC,cAAC4D,EAAD,CAAQhE,SAAUA,EAAUyB,OAzEL,SAAAC,GACzB+B,QAAQC,IAAIhC,EAAMuC,OAAO7C,OACzB6B,EAAUvB,EAAMuC,OAAO7C,UAwErBlB,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAC8D,EAAD,CACE3D,KAAMkC,EACNzB,WArFmB,SAAAU,GACvB+B,QAAQC,IAAIhC,EAAMuC,OAAO7C,OACzBsB,EAAWhB,EAAMuC,OAAO7C,QAoFpBR,OAAQiC,EACR5B,aAnFqB,SAAAS,GACzB+B,QAAQC,IAAIhC,EAAMuC,OAAO7C,OACzB0B,EAAapB,EAAMuC,OAAO7C,QAkFtBF,OAlEmB,SAAAQ,GACvBA,EAAMC,iBACN,IAAMwC,EAAWpE,EAAQM,OAAO,SAAAC,GAAC,OAAIA,EAAEC,OAASkC,IAAS,GACzD,GAAI0B,EAEAC,OAAOC,QAAP,GAAAnF,OACKuD,EADL,4DAIA0B,EAASvD,OAASiC,EAClBc,EACUQ,GACPxF,KAAK,SAAA2F,GAGJ,OAFAb,QAAQC,IAAIY,GACZT,EAAS,GAAA3E,OAAIuD,EAAJ,oBAA+BpD,GACjCiD,EACLvC,EAAQW,IAAI,SAAAJ,GAAC,OAAKA,EAAEtB,KAAOmF,EAASnF,GAAKsB,EAAIgE,OAGhDC,MAAM,SAAAC,GACLX,EAAS,cAAA3E,OAAYuD,EAAZ,qBAAwCpD,GACjDiD,EAAWvC,EAAQM,OAAO,SAAAC,GAAC,OAAIA,EAAEtB,KAAOmF,EAASnF,aAGlD,CACL,IAAMyF,EAAY,CAChBlE,KAAMkC,EACN7B,OAAQiC,GAEVc,EACUc,GACP9F,KAAK,SAAA2F,GAGJ,OAFAb,QAAQC,IAAI,kBAAmBY,GAC/BG,EAAUzF,GAAKsF,EAAItF,GACZsD,EAAWvC,EAAQb,OAAOuF,MAElCF,MAAM,SAAAC,GACLf,QAAQC,IAAIc,EAAM5F,SAASC,KAAM,gBACjCgF,EAAS,GAAA3E,OAAIsF,EAAM5F,SAASC,KAAK2F,OAASnF,KAG9CwE,EAAS,gBAAA3E,OAAcuF,EAAUlE,MAAQlB,GAE3CqD,EAAW,IACXI,EAAa,OAyBX5C,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACsE,EAAD,CAAM3E,QAASA,EAASC,SAAUA,EAAUC,OAvB7B,SAACjB,EAAIuB,GAClB6D,OAAOC,QAAP,gBAAAnF,OAA+BqB,MACjCoD,EAAqB3E,GACrBsD,EAAWvC,EAAQM,OAAO,SAAAC,GAAC,OAAIA,EAAEtB,KAAOA,KACxC6E,EAAS,GAAA3E,OAAIqB,EAAJ,cAAsBlB,SCvFrCsF,IAASC,OAAO1E,EAAAC,EAAAC,cAACyE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.232eb6d3.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject =>\n  axios.post(baseUrl, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nconst update = person => {\n  return axios\n    .put(`${baseUrl}/${person.id}`, person)\n    .then(response => response.data)\n}\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n}\n","const success = {\n  color: 'green',\n  backround: 'lightrey',\n  fontSize: 20,\n  borderStyle: 'solid',\n  borderRadius: 5,\n  padding: 10,\n  marginBottom: 10\n}\nconst fail = {\n  color: 'red',\n  backround: 'lightrey',\n  fontSize: 20,\n  borderStyle: 'solid',\n  borderRadius: 5,\n  padding: 10,\n  marginBottom: 10\n}\nconst empty = {}\n\nexport default {\n  success,\n  fail,\n  empty\n}\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/people'\nimport styles from './styles'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterBy, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [style, setStyle] = useState(styles.empty)\n\n  useEffect(() => {\n    console.log('effect')\n    personService.getAll().then(initialPersons => setPersons(initialPersons))\n    console.log('promise fulfilled')\n  }, [])\n\n  const handleNameChange = event => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = event => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = event => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const setPrompt = (message, style) => {\n    setMessage(message)\n    setStyle(style)\n    setTimeout(() => {\n      setMessage(null)\n      setStyle(styles.empty)\n    }, 5000)\n  }\n\n  const handleFormSubmit = event => {\n    event.preventDefault()\n    const sameName = persons.filter(p => p.name === newName)[0]\n    if (sameName) {\n      if (\n        window.confirm(\n          `${newName} on jo luettelossa, korvataanko vanha numero uudella?`\n        )\n      ) {\n        sameName.number = newNumber\n        personService\n          .update(sameName)\n          .then(res => {\n            console.log(res)\n            setPrompt(`${newName} numero muutettu`, styles.success)\n            return setPersons(\n              persons.map(p => (p.id !== sameName.id ? p : res))\n            )\n          })\n          .catch(error => {\n            setPrompt(`henkilö ${newName} oli jo poistettu`, styles.fail)\n            setPersons(persons.filter(p => p.id !== sameName.id))\n          })\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n        .then(res => {\n          console.log('create response', res)\n          newPerson.id = res.id\n          return setPersons(persons.concat(newPerson))\n        })\n        .catch(error => {\n          console.log(error.response.data, 'homma failas')\n          setPrompt(`${error.response.data.error}`, styles.fail)\n        })\n\n      setPrompt(`lisättiin ${newPerson.name}`, styles.success)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removeById = (id, name) => {\n    if (window.confirm(`poistetaanko ${name}`)) {\n      personService.remove(id)\n      setPersons(persons.filter(p => p.id !== id))\n      setPrompt(`${name} poistettu`, styles.fail)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Prompt message={message} style={style} />\n      <Filter filterBy={filterBy} change={handleFilterChange} />\n      <h2>Lisää uusi</h2>\n      <Add\n        name={newName}\n        nameChange={handleNameChange}\n        number={newNumber}\n        numberChange={handleNumberChange}\n        submit={handleFormSubmit}\n      />\n\n      <h2>Numerot</h2>\n      <Rows persons={persons} filterBy={filterBy} remove={removeById} />\n    </div>\n  )\n}\n\nconst Rows = ({ persons, filterBy, remove }) => (\n  <ul>\n    {persons\n      .filter(p => p.name.toLowerCase().includes(filterBy))\n      .map(p => (\n        <li key={p.name}>\n          {p.name} - {p.number}\n          <button onClick={() => remove(p.id, p.name)}>poista</button>\n        </li>\n      ))}\n  </ul>\n)\n\nconst Add = ({ name, nameChange, number, numberChange, submit }) => (\n  <form onSubmit={submit}>\n    <div>\n      nimi:\n      <input value={name} onChange={nameChange} />\n    </div>\n    <div>\n      numero:\n      <input value={number} onChange={numberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">lisää</button>\n    </div>\n  </form>\n)\n\nconst Filter = ({ filterBy, change }) => (\n  <form onSubmit={event => event.preventDefault()}>\n    <div>\n      rajaa hakua:\n      <input value={filterBy} onChange={change} />\n    </div>\n  </form>\n)\nconst Prompt = ({ message, style }) => {\n  return <div style={style}>{message}</div>\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}