{"version":3,"sources":["services/people.js","styles.js","App.js","index.js"],"names":["baseUrl","people","axios","get","then","response","data","newObject","post","id","delete","concat","newNumber","patch","number","styles","color","backround","fontSize","borderStyle","borderRadius","padding","marginBottom","Rows","_ref","persons","filterBy","remove","react_default","a","createElement","filter","p","name","toLowerCase","includes","map","key","onClick","Add","_ref2","nameChange","numberChange","submit","onSubmit","value","onChange","type","Filter","_ref3","change","event","preventDefault","Prompt","_ref4","message","style","console","log","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","_useState11","_useState12","setStyle","useEffect","personService","initialPersons","setPrompt","setTimeout","App_Prompt","App_Filter","target","App_Add","sameName","indexOf","window","confirm","catch","e","newPerson","App_Rows","ReactDOM","render","src_App","document","getElementById"],"mappings":"gMACMA,EAAU,eAcDC,EAZA,kBAAMC,IAAMC,IAAIH,GAASI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAYnDL,EAVA,SAAAM,GAAS,OACtBL,IAAMM,KAAKR,EAASO,GAAWH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAS5CL,EAPA,SAAAQ,GAAE,OAAIP,IAAMQ,OAAN,GAAAC,OAAgBX,EAAhB,KAAAW,OAA2BF,KAOjCR,EALA,SAACQ,EAAIG,GAAL,OACbV,IACGW,MADH,GAAAF,OACYX,EADZ,KAAAW,OACuBF,GAAM,CAAEK,OAAM,GAAAH,OAAKC,KACvCR,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCOhBS,EApBC,CACdC,MAAO,QACPC,UAAW,WACXC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAaDP,EAXF,CACXC,MAAO,MACPC,UAAW,WACXC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAIDP,EAFD,GCmFRQ,EAAO,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAASC,EAAZF,EAAYE,SAAUC,EAAtBH,EAAsBG,OAAtB,OACXC,EAAAC,EAAAC,cAAA,UACGL,EACEM,OAAO,SAAAC,GAAC,OAAIA,EAAEC,KAAKC,cAAcC,SAAST,KAC1CU,IAAI,SAAAJ,GAAC,OACJJ,EAAAC,EAAAC,cAAA,MAAIO,IAAKL,EAAEC,MACRD,EAAEC,KADL,MACcD,EAAElB,OACdc,EAAAC,EAAAC,cAAA,UAAQQ,QAAS,kBAAMX,EAAOK,EAAEvB,GAAIuB,EAAEC,QAAtC,eAMJM,EAAM,SAAAC,GAAA,IAAGP,EAAHO,EAAGP,KAAMQ,EAATD,EAASC,WAAY3B,EAArB0B,EAAqB1B,OAAQ4B,EAA7BF,EAA6BE,aAAcC,EAA3CH,EAA2CG,OAA3C,OACVf,EAAAC,EAAAC,cAAA,QAAMc,SAAUD,GACdf,EAAAC,EAAAC,cAAA,mBAEEF,EAAAC,EAAAC,cAAA,SAAOe,MAAOZ,EAAMa,SAAUL,KAEhCb,EAAAC,EAAAC,cAAA,qBAEEF,EAAAC,EAAAC,cAAA,SAAOe,MAAO/B,EAAQgC,SAAUJ,KAElCd,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQiB,KAAK,UAAb,kBAKAC,EAAS,SAAAC,GAAA,IAAGvB,EAAHuB,EAAGvB,SAAUwB,EAAbD,EAAaC,OAAb,OACbtB,EAAAC,EAAAC,cAAA,QAAMc,SAAU,SAAAO,GAAK,OAAIA,EAAMC,mBAC7BxB,EAAAC,EAAAC,cAAA,0BAEEF,EAAAC,EAAAC,cAAA,SAAOe,MAAOnB,EAAUoB,SAAUI,OAIlCG,EAAS,SAAAC,GAAwB,IAArBC,EAAqBD,EAArBC,QAASC,EAAYF,EAAZE,MAEzB,OADAC,QAAQC,IAAIH,EAASC,GACd5B,EAAAC,EAAAC,cAAA,OAAK0B,MAAOA,GAAQD,IAGdI,EA3IH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTnC,EADSqC,EAAA,GACAG,EADAH,EAAA,GAAAI,EAEcL,mBAAS,IAFvBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAETE,EAFSD,EAAA,GAEAE,EAFAF,EAAA,GAAAG,EAGkBT,mBAAS,IAH3BU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAGT1D,EAHS2D,EAAA,GAGEC,EAHFD,EAAA,GAAAE,EAIcZ,mBAAS,IAJvBa,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAIT/C,EAJSgD,EAAA,GAICC,EAJDD,EAAA,GAAAE,EAKcf,mBAAS,MALvBgB,EAAAd,OAAAC,EAAA,EAAAD,CAAAa,EAAA,GAKTrB,EALSsB,EAAA,GAKAC,EALAD,EAAA,GAAAE,EAMUlB,mBAAS9C,GANnBiE,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAMTvB,EANSwB,EAAA,GAMFC,EANED,EAAA,GAQhBE,oBAAU,WACRzB,QAAQC,IAAI,UACZyB,IAAuB/E,KAAK,SAAAgF,GAAc,OAAInB,EAAWmB,KACzD3B,QAAQC,IAAI,sBACX,IAEH,IAaM2B,EAAY,SAAC9B,EAASC,GAC1BsB,EAAWvB,GACX0B,EAASzB,GACT8B,WAAW,WACTR,EAAW,MACXG,EAASlE,IACR,MA6CL,OACEa,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACyD,EAAD,CAAQhC,QAASA,EAASC,MAAOA,IACjC5B,EAAAC,EAAAC,cAAC0D,EAAD,CAAQ9D,SAAUA,EAAUwB,OA5DL,SAAAC,GACzBM,QAAQC,IAAIP,EAAMsC,OAAO5C,OACzB8B,EAAUxB,EAAMsC,OAAO5C,UA2DrBjB,EAAAC,EAAAC,cAAC4D,EAAD,CACEzD,KAAMmC,EACN3B,WAvEmB,SAAAU,GACvBM,QAAQC,IAAIP,EAAMsC,OAAO5C,OACzBwB,EAAWlB,EAAMsC,OAAO5C,QAsEpB/B,OAAQF,EACR8B,aArEqB,SAAAS,GACzBM,QAAQC,IAAIP,EAAMsC,OAAO5C,OACzB2B,EAAarB,EAAMsC,OAAO5C,QAoEtBF,OApDmB,SAAAQ,GACvBA,EAAMC,iBACN,IAAMuC,EAAWlE,EAAQW,IAAI,SAAAJ,GAAC,OAAIA,EAAEC,OAAM2D,QAAQxB,GAClD,GAAIuB,EAAW,EAEXE,OAAOC,QAAP,GAAAnF,OACKyD,EADL,4DAIAe,EACU1D,EAAQkE,GAAUlF,GAAIG,GAC7BR,KAAK,SAAAC,GAAQ,OACZ4D,EACExC,EAAQW,IAAI,SAAAJ,GAAC,OAAKA,EAAEvB,KAAOgB,EAAQkE,GAAUlF,GAAKuB,EAAI3B,OAGzD0F,MAAM,SAAAC,GACLX,EAAS,cAAA1E,OAAYyD,EAAZ,qBAAwCrD,GACjDkD,EAAWxC,EAAQM,OAAO,SAAAC,GAAC,OAAIA,EAAEvB,KAAOgB,EAAQkE,GAAUlF,QAE9D4E,EAAS,GAAA1E,OAAIyD,EAAJ,oBAA+BrD,QAErC,CACL,IAAMkF,EAAY,CAChBhE,KAAMmC,EACNtD,OAAQF,GAEVuE,EAAqBc,GAAW7F,KAAK,SAAAC,GAAQ,OAAI4D,EAAW5D,KAC5DgF,EAAS,gBAAA1E,OAAcsF,EAAUhE,MAAQlB,GAE3CsD,EAAW,IACXG,EAAa,OAwBX5C,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACoE,EAAD,CAAMzE,QAASA,EAASC,SAAUA,EAAUC,OAtB7B,SAAClB,EAAIwB,GAClB4D,OAAOC,QAAP,gBAAAnF,OAA+BsB,MACjCkD,EAAqB1E,GACrBwD,EAAWxC,EAAQM,OAAO,SAAAC,GAAC,OAAIA,EAAEvB,KAAOA,KACxC4E,EAAS,GAAA1E,OAAIsB,EAAJ,cAAsBlB,SC1ErCoF,IAASC,OAAOxE,EAAAC,EAAAC,cAACuE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.f1e76c2a.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject =>\n  axios.post(baseUrl, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nconst update = (id, newNumber) =>\n  axios\n    .patch(`${baseUrl}/${id}`, { number: `${newNumber}` })\n    .then(response => response.data)\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n}\n","const success = {\n  color: 'green',\n  backround: 'lightrey',\n  fontSize: 20,\n  borderStyle: 'solid',\n  borderRadius: 5,\n  padding: 10,\n  marginBottom: 10\n}\nconst fail = {\n  color: 'red',\n  backround: 'lightrey',\n  fontSize: 20,\n  borderStyle: 'solid',\n  borderRadius: 5,\n  padding: 10,\n  marginBottom: 10\n}\nconst empty = {}\n\nexport default {\n  success,\n  fail,\n  empty\n}\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/people'\nimport styles from './styles'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterBy, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [style, setStyle] = useState(styles.empty)\n\n  useEffect(() => {\n    console.log('effect')\n    personService.getAll().then(initialPersons => setPersons(initialPersons))\n    console.log('promise fulfilled')\n  }, [])\n\n  const handleNameChange = event => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = event => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = event => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const setPrompt = (message, style) => {\n    setMessage(message)\n    setStyle(style)\n    setTimeout(() => {\n      setMessage(null)\n      setStyle(styles.empty)\n    }, 5000)\n  }\n\n  const handleFormSubmit = event => {\n    event.preventDefault()\n    const sameName = persons.map(p => p.name).indexOf(newName)\n    if (sameName > 0) {\n      if (\n        window.confirm(\n          `${newName} on jo luettelossa, korvataanko vanha numero uudella?`\n        )\n      ) {\n        personService\n          .update(persons[sameName].id, newNumber)\n          .then(response =>\n            setPersons(\n              persons.map(p => (p.id !== persons[sameName].id ? p : response))\n            )\n          )\n          .catch(e => {\n            setPrompt(`henkilö ${newName} oli jo poistettu`, styles.fail)\n            setPersons(persons.filter(p => p.id !== persons[sameName].id))\n          })\n        setPrompt(`${newName} numero muutettu`, styles.success)\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService.create(newPerson).then(response => setPersons(response))\n      setPrompt(`lisättiin ${newPerson.name}`, styles.success)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removeById = (id, name) => {\n    if (window.confirm(`poistetaanko ${name}`)) {\n      personService.remove(id)\n      setPersons(persons.filter(p => p.id !== id))\n      setPrompt(`${name} poistettu`, styles.fail)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Prompt message={message} style={style} />\n      <Filter filterBy={filterBy} change={handleFilterChange} />\n      <Add\n        name={newName}\n        nameChange={handleNameChange}\n        number={newNumber}\n        numberChange={handleNumberChange}\n        submit={handleFormSubmit}\n      />\n\n      <h2>Numerot</h2>\n      <Rows persons={persons} filterBy={filterBy} remove={removeById} />\n    </div>\n  )\n}\n\nconst Rows = ({ persons, filterBy, remove }) => (\n  <ul>\n    {persons\n      .filter(p => p.name.toLowerCase().includes(filterBy))\n      .map(p => (\n        <li key={p.name}>\n          {p.name} - {p.number}\n          <button onClick={() => remove(p.id, p.name)}>poista</button>\n        </li>\n      ))}\n  </ul>\n)\n\nconst Add = ({ name, nameChange, number, numberChange, submit }) => (\n  <form onSubmit={submit}>\n    <div>\n      nimi:\n      <input value={name} onChange={nameChange} />\n    </div>\n    <div>\n      numero:\n      <input value={number} onChange={numberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">lisää</button>\n    </div>\n  </form>\n)\n\nconst Filter = ({ filterBy, change }) => (\n  <form onSubmit={event => event.preventDefault()}>\n    <div>\n      rajaa hakua:\n      <input value={filterBy} onChange={change} />\n    </div>\n  </form>\n)\nconst Prompt = ({ message, style }) => {\n  console.log(message, style)\n  return <div style={style}>{message}</div>\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}